<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AI Form Auto Fill Settings</title>
    <style>
      body {
        margin: 0;
        padding: 24px;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        color: #1f2933;
        background-color: #f7fafc;
      }
      h1 {
        font-size: 22px;
        margin: 0 0 16px;
      }
      label {
        display: block;
        font-weight: 600;
        margin-bottom: 6px;
      }
      input[type="password"],
      input[type="text"] {
        width: 100%;
        padding: 10px 12px;
        border-radius: 6px;
        border: 1px solid #cbd5e0;
        font-size: 14px;
        margin-bottom: 12px;
        box-sizing: border-box;
      }
      button {
        background-color: #2563eb;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 10px 16px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 600;
      }
      button:hover {
        background-color: #1d4ed8;
      }
      .notice {
        font-size: 13px;
        color: #52606d;
        margin-bottom: 20px;
      }
      .status {
        margin-top: 12px;
        font-size: 14px;
      }
      .status.error {
        color: #d64545;
      }
      .status.success {
        color: #157f3b;
      }
      .field-hint {
        font-size: 12px;
        color: #718096;
        margin: -8px 0 16px 0;
      }
      .info-section {
        margin-top: 32px;
        padding-top: 24px;
        border-top: 1px solid #e2e8f0;
      }
      .info-section h2 {
        font-size: 18px;
        margin: 0 0 12px;
      }
      .info-section ol {
        margin: 12px 0;
        padding-left: 24px;
      }
      .info-section li {
        margin-bottom: 8px;
        line-height: 1.5;
      }
    </style>
  </head>
  <body>
    <h1>AI Form Auto Fill - Settings</h1>
    <p class="notice">
      Configure your backend server connection. The server securely stores your
      OpenAI API key and handles all AI requests, keeping your API key safe from
      the client side.
    </p>
    <form id="optionsForm">
      <label for="serverUrl">Backend Server URL</label>
      <input
        id="serverUrl"
        type="text"
        autocomplete="off"
        placeholder="http://localhost:3000"
        required
      />
      <p class="field-hint">
        Default: http://localhost:3000 for local development
      </p>

      <label for="serverApiKey">Server API Key</label>
      <input
        id="serverApiKey"
        type="password"
        autocomplete="off"
        placeholder="Your server authentication key"
        required
      />
      <p class="field-hint">
        This is the SERVER_API_KEY from your backend server's .env file
      </p>

      <button type="submit">Save Settings</button>
      <div id="status" class="status"></div>
    </form>

    <div class="info-section">
      <h2>Setup Instructions</h2>
      <ol>
        <li>Start your backend server (see server/README.md)</li>
        <li>Copy the SERVER_API_KEY from your server's .env file</li>
        <li>Enter your server URL and API key above</li>
        <li>Click "Save Settings" and you're ready to go!</li>
      </ol>
      <p class="notice">
        <strong>Note:</strong> Your OpenAI API key is stored securely on the
        server, never in the browser extension.
      </p>
    </div>

    <script type="module" src="options.js"></script>
  </body>
</html>
